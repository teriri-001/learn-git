## 存储过程和函数
* 类似于Java中的方法

### 存储过程
1. 概述
    * 一组预先编译好的SQL语句的集合，类似于批处理语句
    * 重用代码，简化操作，减少了编译次数和连接服务器的次数

2. 语法
    1. 创建
    ```
    create proceduce 存储过程名(参数列表)
    begin
        存储过程体（一组SQL语句）
    end
    ```
    * 参数列表：参数模式、参数名、参数类型
        1. 举例：in last_name varchar(20)
    * 参数模式
        1. in：参数可作为输入，即需要调用时传入值
        2. out：参数可作为输出，即参数可作为返回值
        3. inout：两者皆可
    * 注意
        1. 只有一句SQL语句可省略begin and
        2. 每句SQL语句以分号结尾，存储过程的结尾需要自定义标志
        3. 使用`delimiter 结束标记`定义

    2. 调用
        * `call 存储过程名（实参列表）;`
    ```
    # 向author表中插入数据
    delimiter $
    CREATE PROCEDURE mypl()
    BEGIN
        INSERT INTO author
        VALUES(1,'tom','cn'),
        (2,'jack','jp'),
        (3,'ed','cn'),
        (4,'tony','us'),
        (5,'heah','uk');
    END $
    # 调用存储过程
    CALL mypl();
    ```

3. 带in模式参数的存储过程
    * 即需要调用者传入参数使用
    * 可以有多个参数，用法相同，以逗号分隔

4. 带out模式参数的存储过程
    * 可以添加in模式参数
    * 返回的值存储在实参，可以定义用户变量接收

5. 带inout模式参数的存储过程
    * 传入的参数同时用于接收返回值

6. 操作存储过程
    * 删除：`drop procedure 存储过程名`;
    * 查看：`show create procedure 名字`;
    * 无法修改

### 函数
1. 概述
    * 存储过程可以没有返回，也可以有多个返回；函数有且仅有一个返回
    * 存储过程适合批量插入、批量更新；函数适合处理数据后返回一个结果

2. 创建函数
    * 语法
    ```
    create function 函数名（参数名，参数类型） returns 返回类型
        begin
            函数体
            return;//必须有
        end
    ```
    * **注意**
        1. 使用navicat创建函数、存储过程时，参数类型需要指定长度

3. 调用函数
    * `select 函数名()`

4. 操作函数
    * 查看函数：`show create function 函数名`
    * 删除函数：`drop function 函数名`