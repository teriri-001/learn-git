## swagger
1. 概述
    * RestFul API 文档在线自动生成工具
        1. 生成接口文档
        2. 实时更新
    * 可以在线测试API接口；
    * 解决前后端联调需求变化快的问题

2. 在项目中使用swagger
    1. 导入jar包：springfox
        1. swagger2依赖
        2. swagger的UI依赖
    2. 集成swagger（即配置一个config）
        1. 在启动类同级目录创建一个目录config,并添加一个swaggerConfig类
        2. 添加注解
            1. @configuration：标识这是一个类似xml配置文件的类
            2. @swagger2：标识开启swagger2
    3. 测试运行
        1. 浏览器打开UI界面：swagger-ui.html：页面组成如下
            1. swagger信息
            2. controller接口信息
            3. model实体类信息
            4. 搜索框

3. 配置swagger
    * swagger的实例bean是docket，所以需要创建一个docket实例来接管swagger进行页面信息配置
    ```java
    @Bean
    public Docket docket(){
        return new Docket(DocumentationType.swagger_2).apiInfo(apiInfo());
    }
    ```
    1. 通过ApiInfo()属性配置页面中的swagger信息
    ```java
    private ApiInfo apiInfo(){
        // 联系人信息
        Contact contact = new Contact("姓名","url访问连接","联系人邮箱");
        return new ApiInfo(
            "swagger学习",//标题
            "学习如何使用swagger",//描述信息
            "v1.0",//版本号
            "http://terms.server.url/组织链接",//组织连接
            contact,
            "apache 2.0 许可",//许可
            ""
            new ArrayList<>() //扩展部分
        )
    }
    ```
    2. swagger配置扫描接口
        * 借助docket实例下的select()方法配置
        ```java
        @Bean
        public Docket docket(){
            return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                .select()
                // basepackage配置扫描方式为指定路径的包
                .apis(RequestHandlerSelectors.basePackage("com.sinon.controller"))
                // path可以指定过滤的路径（即不扫描的路径）
                .path()
                .build();
        }
        ```
    3. 根据生产环境控制swagger的开启(配置swagger开关)
        * 
        ```java
        @Bean
        // 添加环境类参数
        public Docket docket(Environment e){
            // 设置可以使用swagger的环境
            Profiles profiles = Profiles.of("dev","test"....)
            // 拿到当前的环境进行匹配，返回布尔值
            boolen flag environment.acceptProfiles(profiles)
            return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                // 根据返回的布尔值设置swagger的开启
                .enable(flag)
                .select()
                // basepackage配置扫描方式为指定路径的包
                .apis(RequestHandlerSelectors.basePackage("com.sinon.controller"))
                // path可以指定过滤的路径（即不扫描的路径）
                .path()
                .build();
        }
        ```
    4. 分组和接口注释
        1. 配置API文档的分组
            * 使用docket实例的`.groupName("组名")`方法
            * 多个分组可以通过多个docket实例实现，通过Bean进行统一托管
        2. 接口注释
            1. @APImodel：添加在pojo层的实体类上，为接口返回的类添加注释
            2. @apimodelproperty：为类中的属性添加注释
            3. @apioperation：对api接口的注释
            4. @apiparam：对接口需要传入的参数的注释
    5. model实体类配置
       
        * 对于controller返回的实体类，swagger会自动扫描到

4. 其他swagger皮肤
    * 可以导入不同的依赖实现不同的UI界面
        1. swagger-ui：默认的界面
        
        2. bootstrap-ui：访问 http://localhost:8080/doc.html
        
           ```Java
           @Configuration
           @EnableSwagger2
           public class swaggerConfig {
               @Bean
               public Docket docket(){
                   return new Docket(DocumentationType.SWAGGER_2)
                           .apiInfo(apiInfo())
                           .select()
                           .apis(RequestHandlerSelectors.basePackage("com.sinon.controller"))
                           .build();
               }
               private ApiInfo apiInfo(){
                   return new ApiInfoBuilder()
                           .title("通用mapper")
                           .description("学习、测试通用mapper")
                           .termsOfServiceUrl("http://loclahost:8080/")
                           .version("1.0")
                           .build();
               }
           }
           ```
        
        3. Layui-ui：访问 http://localhost:8080/docs.html
        
        4. mg-ui：访问 http://localhost:8080/document.html